<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Fake OS</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #e0e0e0;
            overflow: hidden;
        }

        #taskbar {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: #333;
            color: white;
            height: 40px;
            display: flex;
            align-items: center;
            padding: 0 10px;
        }

        #start-btn {
            background: #444;
            border: none;
            color: white;
            padding: 5px 10px;
            cursor: pointer;
        }

        #taskbar button {
            background: #444;
            border: none;
            color: white;
            padding: 5px 10px;
            margin-right: 5px;
            cursor: pointer;
            border-radius: 3px;
        }

        #start-menu {
            position: absolute;
            bottom: 40px;
            left: 0;
            background: #2c2c2c;
            color: white;
            width: 200px;
            border: 1px solid #444;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            display: none;
            z-index: 2;
        }

        #start-menu img {
            width: 100%;
            border-bottom: 1px solid #444;
        }

        #start-menu button {
            background: #333;
            border: none;
            color: white;
            padding: 10px;
            cursor: pointer;
            width: 100%;
            text-align: left;
            border-bottom: 1px solid #444;
        }

        #start-menu button:last-child {
            border-bottom: none;
        }

        #windows-container {
            position: relative;
        }

        .window {
            position: absolute;
            width: 300px;
            height: 200px;
            background: white;
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            padding: 10px;
            z-index: 1;
        }

        .window-header {
            background: #333;
            color: white;
            padding: 5px;
            cursor: move;
        }

        .window-content {
            flex: 1;
            overflow: auto;
        }

        iframe {
            width: 100%;
            height: 100%;
        }

        .calc-btn {
            background: #555;
            border: 1px solid #444;
            color: white;
            padding: 10px;
            cursor: pointer;
            margin: 2px;
            width: 22%;
            text-align: center;
        }

        #camera {
            display: none;
        }

        #calculator {
            display: none;
        }

        #explorer {
            display: none;
        }

        #notepad {
            display: none;
        }
    </style>
</head>
<body>
    <div id="taskbar">
        <button id="start-btn">Start</button>
        <button id="camera-btn">Camera</button>
        <button id="calculator-btn">Calculator</button>
        <button id="browser-btn">Browser</button>
        <button id="explorer-btn">Explorer</button>
        <button id="notepad-btn">Notepad</button>
    </div>
    <div id="start-menu">
        <img src="logo.png" alt="Logo">
        <button id="start-camera">Open Camera</button>
        <button id="start-calculator">Open Calculator</button>
        <button id="start-browser">Open Browser</button>
        <button id="start-explorer">Open Explorer</button>
        <button id="start-notepad">Open Notepad</button>
    </div>
    <div id="windows-container"></div>
    <audio id="startup-sound" src="startup.mp3" preload="auto"></audio>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const startupSound = document.getElementById("startup-sound");
            startupSound.play();

            const taskbar = document.getElementById("taskbar");
            const startMenu = document.getElementById("start-menu");
            const windowsContainer = document.getElementById("windows-container");

            document.getElementById("start-btn").addEventListener("click", () => {
                startMenu.style.display = startMenu.style.display === "block" ? "none" : "block";
            });

            document.getElementById("start-camera").addEventListener("click", () => {
                startMenu.style.display = "none";
                createWindow("Camera", `<video id="camera" autoplay></video>`);
                const camera = document.getElementById("camera");
                navigator.mediaDevices.getUserMedia({ video: true }).then(stream => {
                    camera.srcObject = stream;
                });
            });

            document.getElementById("start-calculator").addEventListener("click", () => {
                startMenu.style.display = "none";
                createWindow("Calculator", `
                    <input id="calc-display" type="text" disabled>
                    <div>
                        <button class="calc-btn" onclick="appendCalcValue('7')">7</button>
                        <button class="calc-btn" onclick="appendCalcValue('8')">8</button>
                        <button class="calc-btn" onclick="appendCalcValue('9')">9</button>
                        <button class="calc-btn" onclick="appendCalcValue('/')">/</button>
                    </div>
                    <div>
                        <button class="calc-btn" onclick="appendCalcValue('4')">4</button>
                        <button class="calc-btn" onclick="appendCalcValue('5')">5</button>
                        <button class="calc-btn" onclick="appendCalcValue('6')">6</button>
                        <button class="calc-btn" onclick="appendCalcValue('*')">*</button>
                    </div>
                    <div>
                        <button class="calc-btn" onclick="appendCalcValue('1')">1</button>
                        <button class="calc-btn" onclick="appendCalcValue('2')">2</button>
                        <button class="calc-btn" onclick="appendCalcValue('3')">3</button>
                        <button class="calc-btn" onclick="appendCalcValue('-')">-</button>
                    </div>
                    <div>
                        <button class="calc-btn" onclick="appendCalcValue('0')">0</button>
                        <button class="calc-btn" onclick="appendCalcValue('.')">.</button>
                        <button class="calc-btn" onclick="calculateResult()">=</button>
                        <button class="calc-btn" onclick="appendCalcValue('+')">+</button>
                    </div>
                `);
            });

            document.getElementById("start-browser").addEventListener("click", () => {
                startMenu.style.display = "none";
                createWindow("Browser", `<iframe src="https://www.bing.com" frameborder="0"></iframe>`);
            });

            document.getElementById("start-explorer").addEventListener("click", () => {
                startMenu.style.display = "none";
                createWindow("Explorer", `
                    <input type="file" id="file-input" multiple>
                    <button onclick="uploadFiles()">Upload Files</button>
                    <div id="file-list"></div>
                `);
            });

            document.getElementById("start-notepad").addEventListener("click", () => {
                startMenu.style.display = "none";
                createWindow("Notepad", `<textarea id="notepad" rows="10" cols="30"></textarea>`);
            });

            function createWindow(title, content) {
                const win = document.createElement("div");
                win.className = "window";
                win.innerHTML = `
                    <div class="window-header">${title}</div>
                    <div class="window-content">${content}</div>
                `;
                windowsContainer.appendChild(win);

                makeDraggable(win);
            }

            function makeDraggable(el) {
                let offsetX, offsetY, isDragging = false;

                el.querySelector(".window-header").addEventListener("mousedown", (e) => {
                    offsetX = e.clientX - el.getBoundingClientRect().left;
                    offsetY = e.clientY - el.getBoundingClientRect().top;
                    isDragging = true;
                });

                document.addEventListener("mousemove", (e) => {
                    if (isDragging) {
                        el.style.left = `${e.clientX - offsetX}px`;
                        el.style.top = `${e.clientY - offsetY}px`;
                    }
                });

                document.addEventListener("mouseup", () => {
                    isDragging = false;
                });
            }

            window.appendCalcValue = function(value) {
                const display = document.getElementById("calc-display");
                display.value += value;
            };

            window.calculateResult = function() {
                const display = document.getElementById("calc-display");
                try {
                    display.value = eval(display.value);
                } catch {
                    display.value = "Error";
                }
            };

            window.uploadFiles = function() {
                const fileInput = document.getElementById("file-input");
                const fileList = document.getElementById("file-list");
                fileList.innerHTML = "";
                for (const file of fileInput.files) {
                    const listItem = document.createElement("div");
                    listItem.textContent = file.name;
                    fileList.appendChild(listItem);
                }
                localStorage.setItem("uploadedFiles", JSON.stringify(Array.from(fileInput.files).map(f => f.name)));
            };

            if (localStorage.getItem("uploadedFiles")) {
                const fileList = document.getElementById("file-list");
                JSON.parse(localStorage.getItem("uploadedFiles")).forEach(fileName => {
                    const listItem = document.createElement("div");
                    listItem.textContent = fileName;
                    fileList.appendChild(listItem);
                });
            }
        });
    </script>
</body>
</html>
